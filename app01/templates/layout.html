{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>{% trans '学生管理系统' %}</title>
    <link rel="stylesheet" href="{% static 'plugins/bootstrap-3.4.1-dist/css/bootstrap.min.css' %}">
    {% block CSS %}
        <style>
            body {
                background: linear-gradient(-45deg, #FDF5E6, #FFFFE0, #E0FFFF, #FAF0E6);
                background-size: 400% 400%;
                animation: gradientBG 15s ease infinite;
                height: 100vh; /* 确保铺满全屏 */
            }

            @keyframes gradientBG {
                0% {
                    background-position: 0% 50%;
                }
                50% {
                    background-position: 100% 50%;
                }
                100% {
                    background-position: 0% 50%;
                }
            }
        </style>
    {% endblock %}
</head>
<body>
<div class="">
    <nav class="navbar navbar-default navbar ">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand clearfix" href="/index/">
                    <img style="width: 22px;height: 22px;float: left;margin-right: 20px;"
                         src="{% static '/img/button.png' %}" alt="">
                    {% trans '学生管理系统' %}</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse clearfix" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    {#                    <li class=""><a href="/index/">返回主页</a></li>#}
                    <li><a href="/index/studentcontent/">{% trans '添加学生' %}</a></li>
                    <li><a href="/index/teacheradd/">{% trans '添加教师' %}</a></li>
                    <div style="float: right;margin-top: 10px;">
                        {#                        语言切换表单在这里#}
                        <form action="{% url 'set_language' %}" method="post" class="form-inline">
                            {% csrf_token %}
                            <input name="next" type="hidden" value="{{ request.get_full_path }}">
                            <div class="form-group">
                                <select name="language" class="form-control input-sm" onchange="this.form.submit()">
                                    {% get_current_language as LANGUAGE_CODE %}
                                    {% get_available_languages as LANGUAGES %}
                                    {% get_language_info_list for LANGUAGES as languages %}
                                    {% for language in languages %}
                                        <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}
                                                selected {% endif %}>
                                            {{ language.name_local }}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                            <noscript>
                                <button type="submit" class="btn btn-default btn-sm">{% trans "Switch" %}</button>
                            </noscript>
                        </form>
                    </div>

                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false">{{ request.session.info.username }} <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="/index/admin_manager/">{% trans '管理员信息' %}</a></li>
                            {#                            <li><a href="/index/teacheradd/">添加教师</a></li>#}
                            {#                            <li><a href="/index/studentcontent/">添加学生</a></li>#}
                            <li><a href="/index/studentlist/">{% trans '学生总表' %}</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="/index/logout/">{% trans '注 销' %}</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>



    {% block content %}

    {% endblock %}
</div>

<script src="{% static 'JS/jquery-3.7.1.min.js' %}"></script>
<script src="{% static 'plugins/bootstrap-3.4.1-dist/js/bootstrap.min.js' %}"></script>
{% block JS %}

{% endblock %}
</body>
</html>